---
layout: translation
title: Pro Git 9.1 Git изнутри Сантехника и фарфор
---
<h2 id='__'>Сантехника и фарфор</h2>

<p>В этой книге было описано как пользоваться Git используя примерно три десятка команд, например, <code>checkout</code>, <code>branch</code>, <code>remote</code> и т.п. Но так как сначала Git был скорее инструментарием для создания СУВ, чем СУВ удобной для пользователей, в нём полно команд, выполняющих низкоуровневые операции, которые спроектированы так, чтобы их можно было использовать в цепочку в стиле UNIX, а также использовать в сценариях. Эти команды как правило называют служебными (&#8220;plumbing&#8221; — трубопровод), а более ориентированные на пользователя называют пользовательскими (&#8220;porcelain&#8221; — фарфор).</p>

<p>Первые восемь глав книги были посвящены практически только пользовательским командам. В данной главе же рассматриваются именно низкоуровневые служебные команды, дающие контроль над внутренними процессами Git и показывающие, как он работает и почему он работает так, а не иначе. Предполагается, что данные команды не будут использоваться напрямую из командной строки, а будут служить в качестве строительных блоков для новых команд и пользовательских сценариев.</p>

<p>Когда вы выполняете <code>git init</code> в новом или существовавшем ранее каталоге, Git создаёт подкаталог <code>.git</code>, в котором располагается почти всё, чем он заправляет. Если требуется выполнить резервное копирование или клонирование репозитория, достаточно скопировать всего лишь один этот каталог, чтобы получить почти всё необходимое. И данная глава почти полностью посвящена его содержимому. Вот так он выглядит:</p>

<pre><code>$ ls 
HEAD
branches/
config
description
hooks/
index
info/
objects/
refs/</code></pre>

<p>Там могут быть и другие файлы, но непосредственно после <code>git init</code> вы увидите именно это. Каталог <code>branches</code> не используется новыми версиями Git, а файл <code>description</code> требуется только программе GitWeb, на них не стоит обращать особого внимания. Файл <code>config</code> содержит настройки проекта, а каталог <code>info</code> — файл с глобальным фильтром, игнорирующим те файлы, которые вы не хотите поместить в .gitignore. В каталоге <code>hooks</code> располагаются клиентские и серверные хуки, подробно рассмотренные в главе 7.</p>

<p>Итак, осталось четыре важных элемента: файлы <code>HEAD</code>, <code>index</code> и каталоги <code>objects</code>, <code>refs</code>. Это ключевые элементы хранилища Git. В каталоге <code>objects</code> находится, собственно, база данных, в <code>refs</code> — ссылки на объекты коммитов в этой базе (ветки). Файл <code>HEAD</code> указывает на текущую ветку, и в файле <code>index</code> хранится информация индекса. В последующих разделах данные элементы будут рассмотрены более подробно.</p>

<div id='nav'>
<a href='ch9-0.html'>prev</a> | <a href='ch9-2.html'>next</a>
</div>